#pragma once 
inline const char* index_html = R"multiline( 
<!doctype html><html lang=en><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Solar Tracker</title><style>body{padding:0;margin:0}body *{box-sizing:border-box}#wsstate{height:2px;width:100%;background-color:red}#wsstate.on{background-color:green}</style><main><div id=wsstate></div><section id=advanced><h3>Preferances</h3><table id=prefs></table><button onclick=prefs_download()>Download</button> <button onclick=prefs_upload()>Upload</button> <button onclick=prefs_load()>Load</button> <button onclick=prefs_save()>Save</button><h3>Commands</h3><input id=cmd> <button onclick='cmd_execute(document.getElementById("cmd").value)'>Execute</button></section><section><h2>Witaj w Solar Trackerze! Żółć ęąśń</h2><button onclick=toggle_advanced()>Opcje Zaawansowane</button></section></main><script>function decode_prefs(e){return e.split(",").map((e=>e.split("|")))}function encode_prefs(e){return e.map((e=>e.join("|"))).join(",")}function populate_prefs(e){prefs_elem.innerHTML=e.map((e=>"<tr>"+e.map((e=>'<td><input value="'+e+'"/></td>')).join("")+"</tr>")).join("")}function extract_prefs(){return Array.from(prefs_elem.rows).map((e=>Array.from(e.children).map((e=>e.firstChild.value)).join("|"))).join(",")}function prefs_download(){ws.send("d")}function prefs_upload(){ws.send("u"+extract_prefs())}function cmd_execute(e){ws.send("c"+e)}function prefs_load(){cmd_execute("cfgload")}function prefs_save(){cmd_execute("cfgsave")}function toggle_advanced(){adv=1-adv,params.set("adv",adv),location.search=params}adv=1,params=new URLSearchParams(location.search),"1"!=params.get("adv")&&(document.getElementById("advanced").style.display="none",adv=0),prefs_elem=document.getElementById("prefs"),wsstate_elem=document.getElementById("wsstate"),wsurl=params.get("wsurl")||"ws://"+location.hostname+":81",ws=new WebSocket(wsurl),ws.onopen=e=>{console.log("WS opened"),wsstate_elem.className="on"},ws.onerror=e=>{console.log("WS error",e),wsstate_elem.className=""},ws.onclose="close",ws.onmessage=e=>{console.log("WS message",e.data),"d"==e.data[0]&&populate_prefs(decode_prefs(e.data.slice(1)))}</script>
)multiline"; 
